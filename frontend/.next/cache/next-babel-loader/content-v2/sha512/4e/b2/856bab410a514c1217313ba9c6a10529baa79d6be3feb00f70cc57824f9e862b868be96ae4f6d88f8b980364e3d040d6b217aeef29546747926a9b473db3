{"ast":null,"code":"import React, { useEffect, useState } from 'react';\nimport { ResponsivePie } from '@nivo/pie';\nimport { queryAssets } from '../api/bbgo';\nimport { currencyColor } from '../src/utils';\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Card from \"@material-ui/core/Card\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction reduceAssetsBy(assets, field, minimum) {\n  var as = [];\n  var others = {\n    id: \"others\",\n    labels: \"others\",\n    value: 0.0\n  };\n\n  for (var key in assets) {\n    if (assets[key]) {\n      var a = assets[key];\n      var value = a[field];\n\n      if (value < minimum) {\n        others.value += value;\n      } else {\n        as.push({\n          id: a.currency,\n          label: a.currency,\n          color: currencyColor(a.currency),\n          value: Math.round(value, 1)\n        });\n      }\n    }\n  }\n\n  return as;\n}\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      margin: theme.spacing(1)\n    },\n    cardContent: {\n      height: 350\n    }\n  };\n});\nexport default function TotalAssetsPie(_ref) {\n  var assets = _ref.assets;\n  var classes = useStyles();\n  return /*#__PURE__*/_jsx(Card, {\n    className: classes.root,\n    variant: \"outlined\",\n    children: /*#__PURE__*/_jsx(CardContent, {\n      className: classes.cardContent,\n      children: /*#__PURE__*/_jsx(ResponsivePie, {\n        data: reduceAssetsBy(assets, \"inUSD\", 2),\n        margin: {\n          top: 20,\n          right: 80,\n          bottom: 10,\n          left: 0\n        },\n        padding: 0.1,\n        innerRadius: 0.8,\n        padAngle: 1.0,\n        valueFormat: \" >-$f\",\n        colors: {\n          datum: 'data.color'\n        } // colors={{scheme: 'nivo'}}\n        ,\n        cornerRadius: 0.1,\n        borderWidth: 1,\n        borderColor: {\n          from: 'color',\n          modifiers: [['darker', 0.2]]\n        },\n        radialLabelsSkipAngle: 10,\n        radialLabelsTextColor: \"#333333\",\n        radialLabelsLinkColor: {\n          from: 'color'\n        },\n        sliceLabelsSkipAngle: 30,\n        sliceLabelsTextColor: \"#fff\",\n        legends: [{\n          anchor: 'right',\n          direction: 'column',\n          justify: false,\n          translateX: 70,\n          translateY: 0,\n          itemsSpacing: 5,\n          itemWidth: 80,\n          itemHeight: 24,\n          itemTextColor: '#999',\n          itemOpacity: 1,\n          symbolSize: 18,\n          symbolShape: 'circle',\n          effects: [{\n            on: 'hover',\n            style: {\n              itemTextColor: '#000'\n            }\n          }]\n        }]\n      })\n    })\n  });\n}","map":null,"metadata":{},"sourceType":"module"}