{"ast":null,"code":"var _jsxFileName = \"/Users/austin/Desktop/bbgo/frontend/components/TotalAssetsPie.js\";\nimport React, { useEffect, useState } from 'react';\nimport { ResponsivePie } from '@nivo/pie';\nimport { queryAssets } from '../api/bbgo';\nimport { currencyColor } from '../src/utils';\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Card from \"@material-ui/core/Card\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction reduceAssetsBy(assets, field, minimum) {\n  let as = [];\n  let others = {\n    id: \"others\",\n    labels: \"others\",\n    value: 0.0\n  };\n\n  for (let key in assets) {\n    if (assets[key]) {\n      let a = assets[key];\n      let value = a[field];\n\n      if (value < minimum) {\n        others.value += value;\n      } else {\n        as.push({\n          id: a.currency,\n          label: a.currency,\n          color: currencyColor(a.currency),\n          value: Math.round(value, 1)\n        });\n      }\n    }\n  }\n\n  return as;\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    margin: theme.spacing(1)\n  },\n  cardContent: {\n    height: 350\n  }\n}));\nexport default function TotalAssetsPie({\n  assets\n}) {\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: classes.root,\n    variant: \"outlined\",\n    children: /*#__PURE__*/_jsxDEV(CardContent, {\n      className: classes.cardContent,\n      children: /*#__PURE__*/_jsxDEV(ResponsivePie, {\n        data: reduceAssetsBy(assets, \"inUSD\", 2),\n        margin: {\n          top: 20,\n          right: 80,\n          bottom: 10,\n          left: 0\n        },\n        padding: 0.1,\n        innerRadius: 0.8,\n        padAngle: 1.0,\n        valueFormat: \" >-$f\",\n        colors: {\n          datum: 'data.color'\n        } // colors={{scheme: 'nivo'}}\n        ,\n        cornerRadius: 0.1,\n        borderWidth: 1,\n        borderColor: {\n          from: 'color',\n          modifiers: [['darker', 0.2]]\n        },\n        radialLabelsSkipAngle: 10,\n        radialLabelsTextColor: \"#333333\",\n        radialLabelsLinkColor: {\n          from: 'color'\n        },\n        sliceLabelsSkipAngle: 30,\n        sliceLabelsTextColor: \"#fff\",\n        legends: [{\n          anchor: 'right',\n          direction: 'column',\n          justify: false,\n          translateX: 70,\n          translateY: 0,\n          itemsSpacing: 5,\n          itemWidth: 80,\n          itemHeight: 24,\n          itemTextColor: '#999',\n          itemOpacity: 1,\n          symbolSize: 18,\n          symbolShape: 'circle',\n          effects: [{\n            on: 'hover',\n            style: {\n              itemTextColor: '#000'\n            }\n          }]\n        }]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n}","map":{"version":3,"sources":["/Users/austin/Desktop/bbgo/frontend/components/TotalAssetsPie.js"],"names":["React","useEffect","useState","ResponsivePie","queryAssets","currencyColor","CardContent","Card","makeStyles","reduceAssetsBy","assets","field","minimum","as","others","id","labels","value","key","a","push","currency","label","color","Math","round","useStyles","theme","root","margin","spacing","cardContent","height","TotalAssetsPie","classes","top","right","bottom","left","datum","from","modifiers","anchor","direction","justify","translateX","translateY","itemsSpacing","itemWidth","itemHeight","itemTextColor","itemOpacity","symbolSize","symbolShape","effects","on","style"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\n\nimport {ResponsivePie} from '@nivo/pie';\nimport {queryAssets} from '../api/bbgo';\nimport {currencyColor} from '../src/utils';\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Card from \"@material-ui/core/Card\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n\nfunction reduceAssetsBy(assets, field, minimum) {\n    let as = []\n\n    let others = {id: \"others\", labels: \"others\", value: 0.0}\n    for (let key in assets) {\n        if (assets[key]) {\n            let a = assets[key]\n            let value = a[field]\n\n            if (value < minimum) {\n                others.value += value\n            } else {\n                as.push({\n                    id: a.currency,\n                    label: a.currency,\n                    color: currencyColor(a.currency),\n                    value: Math.round(value, 1),\n                })\n            }\n        }\n    }\n\n    return as\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        margin: theme.spacing(1),\n    },\n    cardContent: {\n        height: 350,\n    }\n}));\n\nexport default function TotalAssetsPie({ assets }) {\n    const classes = useStyles();\n    return (\n        <Card className={classes.root} variant=\"outlined\">\n            <CardContent className={classes.cardContent}>\n                <ResponsivePie\n                    data={reduceAssetsBy(assets, \"inUSD\", 2)}\n                    margin={{top: 20, right: 80, bottom: 10, left: 0}}\n                    padding={0.1}\n                    innerRadius={0.8}\n                    padAngle={1.0}\n                    valueFormat=\" >-$f\"\n                    colors={{datum: 'data.color'}}\n                    // colors={{scheme: 'nivo'}}\n                    cornerRadius={0.1}\n                    borderWidth={1}\n                    borderColor={{from: 'color', modifiers: [['darker', 0.2]]}}\n                    radialLabelsSkipAngle={10}\n                    radialLabelsTextColor=\"#333333\"\n                    radialLabelsLinkColor={{from: 'color'}}\n                    sliceLabelsSkipAngle={30}\n                    sliceLabelsTextColor=\"#fff\"\n                    legends={[\n                        {\n                            anchor: 'right',\n                            direction: 'column',\n                            justify: false,\n                            translateX: 70,\n                            translateY: 0,\n                            itemsSpacing: 5,\n                            itemWidth: 80,\n                            itemHeight: 24,\n                            itemTextColor: '#999',\n                            itemOpacity: 1,\n                            symbolSize: 18,\n                            symbolShape: 'circle',\n                            effects: [\n                                {\n                                    on: 'hover',\n                                    style: {\n                                        itemTextColor: '#000'\n                                    }\n                                }\n                            ]\n                        }\n                    ]}\n                />\n            </CardContent>\n        </Card>\n    );\n\n}\n"]},"metadata":{},"sourceType":"module"}